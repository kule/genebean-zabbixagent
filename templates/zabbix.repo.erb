##################################################################
###################################################################
####
####        This file is managed by Puppet
####
####################################################################
####################################################################
###
#####################################################################
####
####   This section replaces /etc/yum.repos.d/zabbix.repo
####
#####################################################################

[zabbix]
name=Zabbix Official Repository - $basearch
baseurl=http://repo.zabbix.com/zabbix/<%= @version %>/rhel/<%= @operatingsystemmajrelease %>/$basearch/
enabled=1
gpgcheck=1
<% if @version == '2.4' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX
<% elsif @version == '3.0' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-79EA5ED4
<% elsif ['3.2', '3.4', '4.0'].include?(@version) -%>
<% if @operatingsystemmajrelease == '5' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-A14FE591-EL5
<% else -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-A14FE591
<% end -%>
<% end -%>

[zabbix-non-supported]
name=Zabbix Official Repository non-supported - $basearch
baseurl=http://repo.zabbix.com/non-supported/rhel/<%= @operatingsystemmajrelease %>/$basearch/
enabled=1
gpgcheck=1
<% if @version == '2.4' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX
<% elsif @version == '3.0' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-79EA5ED4
<% elsif ['3.2', '3.4', '4.0'].include?(@version) -%>
<% if @operatingsystemmajrelease == '5' -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-A14FE591-EL5
<% else -%>
gpgkey=http://repo.zabbix.com/RPM-GPG-KEY-ZABBIX-A14FE591
<% end -%>
<% end -%>
